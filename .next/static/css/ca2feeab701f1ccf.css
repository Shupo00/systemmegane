*{box-sizing:border-box}body,html{height:100%}body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Noto Sans JP,sans-serif;background:var(--bg);color:var(--fg);overflow-x:hidden}.heading-serif,h1,h2,h3{font-family:var(--font-serif),"Noto Serif JP",Georgia,"Times New Roman",serif;letter-spacing:.3px}:root{--bg:#f7f6f2;--surface:#fff;--surface-2:#f2efe7;--fg:#2d2f33;--muted:#6e737b;--border:#e6e1d5;--accent:#d4a017;--accent-2:#ffe7a3;--ok:#2e7d32;--err:#d84343;--shadow:0 12px 36px rgba(0,0,0,.12)}.container{max-width:1200px;margin:0 auto;padding:1rem}header{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0}header h1{font-size:1.1rem;margin:0;letter-spacing:.2px}header nav a{color:var(--muted);text-decoration:none;margin-left:.5rem;transition:color .15s ease}header nav a:hover{color:#5a5e66}main{padding:1rem 0 2.5rem}button,input,select,textarea{font:inherit}.input,input[type=date],input[type=email],input[type=password],input[type=search],input[type=text],select,textarea{width:100%;padding:.7rem .85rem;border-radius:.7rem;border:1px solid var(--border);background:var(--surface-2);color:var(--fg);outline:none}.input:focus,input:focus,select:focus,textarea:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(212,160,23,.18)}.btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid var(--border);background:var(--surface-2);color:var(--fg);padding:.65rem 1rem;border-radius:.9rem;cursor:pointer;transition:background .15s ease,border-color .15s ease,transform .06s ease,box-shadow .15s ease}.btn:hover{background:var(--surface);border-color:#d9d3c4;box-shadow:0 6px 18px rgba(0,0,0,.08)}.btn:active{transform:translateY(1px)}.btn.primary{background:linear-gradient(180deg,var(--accent-2),var(--accent));border:1px solid #c79a16;color:#2d2305}.btn.ghost{background:transparent;border-color:var(--border)}.btn.warn{background:#2a1616;border-color:#3a1e1e;color:#ffb4b4}.btn.small{padding:.45rem .7rem;border-radius:.7rem;font-size:.95rem}.btn:disabled{opacity:.6;cursor:not-allowed;box-shadow:none;transform:none}.row{display:flex;gap:.75rem;flex-wrap:wrap;align-items:center}.stack{display:grid;grid-gap:.75rem;gap:.75rem}.card{border:1px solid var(--border);border-radius:1rem;padding:1.1rem;background:linear-gradient(180deg,#fff,#fbfaf7);box-shadow:var(--shadow)}.card h2,.card h3{margin:.1rem 0 .6rem}.muted{color:var(--muted)}.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));grid-gap:1rem;gap:1rem}.lock{opacity:.85;filter:grayscale(10%)}.badge{display:inline-block;padding:.2rem .5rem;border-radius:999px;font-size:.73rem;line-height:1;vertical-align:middle;margin-left:.4rem;border:1px solid transparent}.badge.ai{color:#3b2a00;background:#ffefc4;border-color:#e4c46a}.badge.mock{color:#41214b;background:#f1d6ff;border-color:#e0b7ff}.avatar{width:64px;height:64px;border-radius:50%;object-fit:cover;background:#fff;border:2px solid #ede7da;box-shadow:inset 0 1px 2px rgba(0,0,0,.08)}.character-head{display:flex;align-items:center;gap:1rem}.rdp{--rdp-accent-color:var(--accent);--rdp-background-color:var(--surface-2);color:var(--fg)}.rdp-months{background:#fff;border:1px solid var(--border);border-radius:1rem;padding:.5rem;box-shadow:var(--shadow)}.rdp-day_selected,.rdp-day_selected:focus-visible,.rdp-day_selected:hover{background:var(--accent);color:#0b1424}.rdp-day_today{color:#b08900;font-weight:700}.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.28);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);display:grid;place-items:center;z-index:50}.modal-window{width:min(860px,calc(100vw - 32px));max-height:calc(100vh - 120px);overflow:auto;background:linear-gradient(180deg,#fff,#fbfaf7);border:1px solid var(--border);border-radius:14px;box-shadow:0 24px 60px rgba(0,0,0,.18)}.modal-header{padding:1rem 1.2rem .5rem;border-bottom:1px solid var(--border)}.modal-body{padding:1.2rem}.modal-actions{padding:.8rem 1.2rem 1.2rem;display:flex;gap:.6rem;justify-content:flex-end}.quad-grid{display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:auto auto;grid-gap:1rem;gap:1rem}.stack-col{display:grid;grid-gap:.6rem;gap:.6rem;align-content:start}.entry-card{border:1px solid var(--border);border-radius:.9rem;background:#fff;padding:.8rem}.entry-meta{color:var(--muted);font-size:.9rem;margin-bottom:.25rem}@media (max-width:900px){.quad-grid{grid-template-columns:1fr;grid-template-rows:auto}}.calendar-full{min-height:calc(100vh - 140px);align-items:start;width:100vw;margin-left:calc(50% - 50vw);padding-left:max(24px,env(safe-area-inset-left));padding-right:max(24px,env(safe-area-inset-right))}.calendar-full .rdp{--rdp-cell-size:112px;--rdp-font-size:1.2rem;padding:.5rem}.calendar-full .rdp-months{width:-moz-fit-content;width:fit-content}@media (max-width:900px){.calendar-full .rdp{--rdp-cell-size:72px}}@media (max-width:640px){.calendar-full .rdp{--rdp-cell-size:56px}}.rdp-caption_label{font-size:2rem;font-weight:700;letter-spacing:.2px;color:#433e2f}.rdp-caption{padding:.6rem 1rem}.rdp-nav{gap:.25rem}.rdp-head_cell{color:#8a8e96;font-weight:600}.rdp-day{border-radius:12px;transition:transform .08s ease,box-shadow .15s ease,background .15s ease}.rdp-day:hover{background:#fff7e0;box-shadow:0 6px 16px rgba(0,0,0,.06);transform:translateY(-1px)}.rdp-day_selected,.rdp-day_selected:focus-visible,.rdp-day_selected:hover{background:linear-gradient(180deg,#ffefc4,#e7c35a);color:#2d2305;box-shadow:0 6px 18px rgba(212,160,23,.25)}.rdp-nav_button{color:#6e737b;border-radius:10px}.rdp-nav_button:hover{background:#fff3cd;color:#2d2305}.rdp-hascount{background:#fff8e6!important}:root{color-scheme:light dark}.card.calendar-full{padding:1rem 0;border-radius:.9rem}.stack-tight{display:grid;grid-gap:.35rem;gap:.35rem}.calendar-full{min-height:auto;display:grid;place-items:center;width:100%;padding:0}.calendar-full .rdp-months{padding:.8rem 1rem;margin:0 auto}.calendar-full h2{display:none}.calendar-full .btn.primary{margin-bottom:.6rem}.two-col{display:grid;grid-template-columns:1fr 1fr;grid-gap:1rem;gap:1rem;align-items:start}@media (max-width:900px){.two-col{grid-template-columns:1fr}}.day-layout{display:flex;gap:1.2rem;align-items:flex-start}.composer-card{width:420px;max-width:100%;flex:0 0 auto}.entries-card{flex:1 1 auto;min-width:0}@media (max-width:1280px){.day-layout{flex-direction:column}.composer-card{width:100%}}.day-layout>.card:first-child{width:420px;max-width:100%;flex:0 0 auto}.day-layout>.card:nth-child(2){flex:1 1 auto;min-width:0}.day-layout .card:has(textarea){width:420px;max-width:100%;flex:0 0 auto}.day-layout .card:has(.quad-grid){flex:1 1 auto;min-width:0}.day-layout :is(.entries-card,.card:has(.quad-grid)){border:1px solid var(--border);border-radius:1rem;background:linear-gradient(180deg,#fff,#fbfaf7);box-shadow:var(--shadow);padding:1rem}.day-grid{display:grid;grid-template-columns:1fr;grid-gap:1rem;gap:1rem}@media (max-width:1100px){.day-layout{flex-direction:column}.composer-card{width:100%}}.rdp-root{--rdp-accent-color:blue;--rdp-accent-background-color:#f0f0ff;--rdp-day-height:44px;--rdp-day-width:44px;--rdp-day_button-border-radius:100%;--rdp-day_button-border:2px solid transparent;--rdp-day_button-height:42px;--rdp-day_button-width:42px;--rdp-selected-border:2px solid var(--rdp-accent-color);--rdp-disabled-opacity:0.5;--rdp-outside-opacity:0.75;--rdp-today-color:var(--rdp-accent-color);--rdp-dropdown-gap:0.5rem;--rdp-months-gap:2rem;--rdp-nav_button-disabled-opacity:0.5;--rdp-nav_button-height:2.25rem;--rdp-nav_button-width:2.25rem;--rdp-nav-height:2.75rem;--rdp-range_middle-background-color:var(--rdp-accent-background-color);--rdp-range_middle-color:inherit;--rdp-range_start-color:#fff;--rdp-range_start-background:linear-gradient(var(--rdp-gradient-direction),transparent 50%,var(--rdp-range_middle-background-color) 50%);--rdp-range_start-date-background-color:var(--rdp-accent-color);--rdp-range_end-background:linear-gradient(var(--rdp-gradient-direction),var(--rdp-range_middle-background-color) 50%,transparent 50%);--rdp-range_end-color:#fff;--rdp-range_end-date-background-color:var(--rdp-accent-color);--rdp-week_number-border-radius:100%;--rdp-week_number-border:2px solid transparent;--rdp-week_number-height:var(--rdp-day-height);--rdp-week_number-opacity:0.75;--rdp-week_number-width:var(--rdp-day-width);--rdp-weeknumber-text-align:center;--rdp-weekday-opacity:0.75;--rdp-weekday-padding:0.5rem 0rem;--rdp-weekday-text-align:center;--rdp-gradient-direction:90deg;--rdp-animation_duration:0.3s;--rdp-animation_timing:cubic-bezier(0.4,0,0.2,1)}.rdp-root[dir=rtl]{--rdp-gradient-direction:-90deg}.rdp-root[data-broadcast-calendar=true]{--rdp-outside-opacity:unset}.rdp-root{position:relative}.rdp-root,.rdp-root *{box-sizing:border-box}.rdp-day{width:var(--rdp-day-width);height:var(--rdp-day-height);text-align:center}.rdp-day_button{background:none;padding:0;margin:0;cursor:pointer;font:inherit;color:inherit;justify-content:center;align-items:center;display:flex;width:var(--rdp-day_button-width);height:var(--rdp-day_button-height);border:var(--rdp-day_button-border);border-radius:var(--rdp-day_button-border-radius)}.rdp-day_button:disabled{cursor:revert}.rdp-caption_label{z-index:1;position:relative;display:inline-flex;align-items:center;white-space:nowrap;border:0}.rdp-dropdown:focus-visible~.rdp-caption_label{outline:5px auto Highlight;outline:5px auto -webkit-focus-ring-color}.rdp-button_next,.rdp-button_previous{border:none;background:none;padding:0;margin:0;cursor:pointer;font:inherit;color:inherit;-moz-appearance:none;-webkit-appearance:none;display:inline-flex;align-items:center;justify-content:center;position:relative;appearance:none;width:var(--rdp-nav_button-width);height:var(--rdp-nav_button-height)}.rdp-button_next:disabled,.rdp-button_next[aria-disabled=true],.rdp-button_previous:disabled,.rdp-button_previous[aria-disabled=true]{cursor:revert;opacity:var(--rdp-nav_button-disabled-opacity)}.rdp-chevron{display:inline-block;fill:var(--rdp-accent-color)}.rdp-root[dir=rtl] .rdp-nav .rdp-chevron{transform:rotate(180deg);transform-origin:50%}.rdp-dropdowns{position:relative;display:inline-flex;align-items:center;gap:var(--rdp-dropdown-gap)}.rdp-dropdown{z-index:2;opacity:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;position:absolute;inset-block-start:0;inset-block-end:0;inset-inline-start:0;width:100%;margin:0;padding:0;cursor:inherit;border:none;line-height:inherit}.rdp-dropdown_root{position:relative;display:inline-flex;align-items:center}.rdp-dropdown_root[data-disabled=true] .rdp-chevron{opacity:var(--rdp-disabled-opacity)}.rdp-month_caption{display:flex;align-content:center;height:var(--rdp-nav-height);font-weight:700;font-size:large}.rdp-root[data-nav-layout=after] .rdp-month,.rdp-root[data-nav-layout=around] .rdp-month{position:relative}.rdp-root[data-nav-layout=around] .rdp-month_caption{justify-content:center;-webkit-margin-start:var(--rdp-nav_button-width);margin-inline-start:var(--rdp-nav_button-width);-webkit-margin-end:var(--rdp-nav_button-width);margin-inline-end:var(--rdp-nav_button-width);position:relative}.rdp-root[data-nav-layout=around] .rdp-button_previous{position:absolute;inset-inline-start:0;top:0;height:var(--rdp-nav-height);display:inline-flex}.rdp-root[data-nav-layout=around] .rdp-button_next{position:absolute;inset-inline-end:0;top:0;height:var(--rdp-nav-height);display:inline-flex;justify-content:center}.rdp-months{position:relative;display:flex;flex-wrap:wrap;gap:var(--rdp-months-gap);max-width:-moz-fit-content;max-width:fit-content}.rdp-month_grid{border-collapse:collapse}.rdp-nav{position:absolute;inset-block-start:0;inset-inline-end:0;display:flex;align-items:center;height:var(--rdp-nav-height)}.rdp-weekday{opacity:var(--rdp-weekday-opacity);padding:var(--rdp-weekday-padding);font-weight:500;font-size:smaller;text-align:var(--rdp-weekday-text-align);text-transform:var(--rdp-weekday-text-transform)}.rdp-week_number{opacity:var(--rdp-week_number-opacity);font-weight:400;font-size:small;height:var(--rdp-week_number-height);width:var(--rdp-week_number-width);border:var(--rdp-week_number-border);border-radius:var(--rdp-week_number-border-radius);text-align:var(--rdp-weeknumber-text-align)}.rdp-today:not(.rdp-outside){color:var(--rdp-today-color)}.rdp-selected{font-weight:700;font-size:large}.rdp-selected .rdp-day_button{border:var(--rdp-selected-border)}.rdp-outside{opacity:var(--rdp-outside-opacity)}.rdp-disabled{opacity:var(--rdp-disabled-opacity)}.rdp-hidden{visibility:hidden;color:var(--rdp-range_start-color)}.rdp-range_start{background:var(--rdp-range_start-background)}.rdp-range_start .rdp-day_button{background-color:var(--rdp-range_start-date-background-color);color:var(--rdp-range_start-color)}.rdp-range_middle{background-color:var(--rdp-range_middle-background-color)}.rdp-range_middle .rdp-day_button{border:unset;border-radius:unset;color:var(--rdp-range_middle-color)}.rdp-range_end{background:var(--rdp-range_end-background);color:var(--rdp-range_end-color)}.rdp-range_end .rdp-day_button{color:var(--rdp-range_start-color);background-color:var(--rdp-range_end-date-background-color)}.rdp-range_start.rdp-range_end{background:revert}.rdp-focusable{cursor:pointer}@keyframes rdp-slide_in_left{0%{transform:translateX(-100%)}to{transform:translateX(0)}}@keyframes rdp-slide_in_right{0%{transform:translateX(100%)}to{transform:translateX(0)}}@keyframes rdp-slide_out_left{0%{transform:translateX(0)}to{transform:translateX(-100%)}}@keyframes rdp-slide_out_right{0%{transform:translateX(0)}to{transform:translateX(100%)}}.rdp-weeks_before_enter{animation:rdp-slide_in_left var(--rdp-animation_duration) var(--rdp-animation_timing) forwards}.rdp-weeks_before_exit{animation:rdp-slide_out_left var(--rdp-animation_duration) var(--rdp-animation_timing) forwards}.rdp-weeks_after_enter{animation:rdp-slide_in_right var(--rdp-animation_duration) var(--rdp-animation_timing) forwards}.rdp-weeks_after_exit{animation:rdp-slide_out_right var(--rdp-animation_duration) var(--rdp-animation_timing) forwards}.rdp-root[dir=rtl] .rdp-weeks_after_enter{animation:rdp-slide_in_left var(--rdp-animation_duration) var(--rdp-animation_timing) forwards}.rdp-root[dir=rtl] .rdp-weeks_before_exit{animation:rdp-slide_out_right var(--rdp-animation_duration) var(--rdp-animation_timing) forwards}.rdp-root[dir=rtl] .rdp-weeks_before_enter{animation:rdp-slide_in_right var(--rdp-animation_duration) var(--rdp-animation_timing) forwards}.rdp-root[dir=rtl] .rdp-weeks_after_exit{animation:rdp-slide_out_left var(--rdp-animation_duration) var(--rdp-animation_timing) forwards}@keyframes rdp-fade_in{0%{opacity:0}to{opacity:1}}@keyframes rdp-fade_out{0%{opacity:1}to{opacity:0}}.rdp-caption_after_enter{animation:rdp-fade_in var(--rdp-animation_duration) var(--rdp-animation_timing) forwards}.rdp-caption_after_exit{animation:rdp-fade_out var(--rdp-animation_duration) var(--rdp-animation_timing) forwards}.rdp-caption_before_enter{animation:rdp-fade_in var(--rdp-animation_duration) var(--rdp-animation_timing) forwards}.rdp-caption_before_exit{animation:rdp-fade_out var(--rdp-animation_duration) var(--rdp-animation_timing) forwards}