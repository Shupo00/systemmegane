(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9139:function(e,t,n){Promise.resolve().then(n.bind(n,7340))},7340:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(7437),s=n(3273),o=n(9073),c=n(2265),i=n(9376);function r(e){return e instanceof Date&&!isNaN(e.getTime())}function l(e){let t=r(e)?e:new Date,n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return"".concat(n,"-").concat(a,"-").concat(s)}function u(){let e=(0,i.useRouter)(),[t,n]=(0,c.useState)(new Date),[u,d]=(0,c.useState)({});(0,c.useEffect)(()=>{let e=function(e){let t=r(e)?e:new Date,n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0");return"".concat(n,"-").concat(a)}(t);fetch("/api/entries/counts?month=".concat(e)).then(e=>e.ok?e.json():Promise.resolve({counts:{}})).then(e=>d(e.counts||{})).catch(()=>d({}))},[t]);let h=(0,c.useMemo)(()=>l(new Date),[]),m={...o.ja,options:{...o.ja.options,weekStartsOn:1}};return(0,c.useMemo)(()=>Object.values(u).reduce((e,t)=>e+t,0),[u]),(0,a.jsxs)("div",{className:"card calendar-full",style:{gridColumn:"1 / -1"},children:[(0,a.jsxs)("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsx)("h2",{className:"heading-serif",style:{fontSize:"1.6rem",margin:".2rem 0"},children:"カレンダー"}),(0,a.jsx)("button",{className:"btn primary",onClick:()=>e.push("/day/".concat(h)),children:"今日へ"})]}),(0,a.jsx)("div",{className:"stack-tight",style:{alignItems:"center"},children:(0,a.jsx)(s._,{mode:"single",month:t,onMonthChange:e=>n(r(e)?e:new Date),components:{Day:e=>{let t=r(null==e?void 0:e.date)?e.date:new Date,n=l(t),s=u[n]||0;return(0,a.jsxs)("div",{style:{position:"relative"},title:s?"".concat(s,"件のエントリ"):"",children:[(0,a.jsx)("div",{style:{fontWeight:n===h?700:500},children:t.getDate()}),s>0&&(0,a.jsx)("span",{className:"badge",style:{position:"absolute",top:0,right:0},children:s})]})}},numberOfMonths:1,pagedNavigation:!1,locale:m,modifiers:{hasCount:e=>!!u[l(e)]},modifiersClassNames:{hasCount:"rdp-hascount"},onDayClick:t=>e.push("/day/".concat(l(t)))})})]})}}},function(e){e.O(0,[445,971,117,744],function(){return e(e.s=9139)}),_N_E=e.O()}]);