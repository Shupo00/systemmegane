(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9139:function(e,t,n){Promise.resolve().then(n.bind(n,7340))},7340:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(7437),s=n(1631),o=n(3409),c=n(7665),i=n(2265),r=n(9376);function l(e){return e instanceof Date&&!isNaN(e.getTime())}function u(e){let t=l(e)?e:new Date,n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return"".concat(n,"-").concat(a,"-").concat(s)}function d(){let e=(0,r.useRouter)(),[t,n]=(0,i.useState)(new Date),[d,h]=(0,i.useState)({});(0,i.useEffect)(()=>{let e=function(e){let t=l(e)?e:new Date,n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0");return"".concat(n,"-").concat(a)}(t);fetch("/api/entries/counts?month=".concat(e)).then(e=>e.ok?e.json():Promise.resolve({counts:{}})).then(e=>h(e.counts||{})).catch(()=>h({}))},[t]);let m=(0,i.useMemo)(()=>u(new Date),[]),f={...c.ja,options:{...c.ja.options,weekStartsOn:1}};return(0,i.useMemo)(()=>Object.values(d).reduce((e,t)=>e+t,0),[d]),(0,a.jsxs)("div",{className:"card calendar-full",style:{gridColumn:"1 / -1"},children:[(0,a.jsxs)("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsx)("h2",{className:"heading-serif",style:{fontSize:"1.6rem",margin:".2rem 0"},children:"カレンダー"}),(0,a.jsx)("button",{className:"btn primary",onClick:()=>e.push("/day/".concat(m)),children:"今日へ"})]}),(0,a.jsx)("div",{className:"stack-tight",style:{alignItems:"center"},children:(0,a.jsx)(o._,{mode:"single",month:t,onMonthChange:e=>n(l(e)?e:new Date),components:{DayButton:e=>{let t=l(null==e?void 0:e.date)?e.date:new Date,n=u(t),o=d[n]||0;return(0,a.jsx)(s.b,{...e,children:(0,a.jsxs)("div",{style:{position:"relative"},title:o?"".concat(o,"件のエントリ"):"",children:[(0,a.jsx)("div",{style:{fontWeight:n===m?700:500},children:t.getDate()}),o>0&&(0,a.jsx)("span",{className:"badge",style:{position:"absolute",top:0,right:0},children:o})]})})}},numberOfMonths:1,pagedNavigation:!1,locale:f,modifiers:{hasCount:e=>!!d[u(e)]},modifiersClassNames:{hasCount:"rdp-hascount"},onDayClick:t=>e.push("/day/".concat(u(t)))})})]})}}},function(e){e.O(0,[613,971,117,744],function(){return e(e.s=9139)}),_N_E=e.O()}]);